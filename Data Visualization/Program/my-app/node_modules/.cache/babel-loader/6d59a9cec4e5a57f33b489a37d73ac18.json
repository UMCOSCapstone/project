{"ast":null,"code":"import _classCallCheck from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/src/components/Graph.js\";\nimport React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport socketIOClient from \"socket.io-client\";\nimport { HighchartsChart, Chart, withHighcharts, XAxis, YAxis, Title, Legend, LineSeries } from 'react-jsx-highcharts';\nimport './Graph.css'; //import jsonData from '../jsonData.json';\n\nvar jsonData = require('../jsonData.json');\n\nvar Graph =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Graph, _Component);\n\n  function Graph(props) {\n    var _this;\n\n    _classCallCheck(this, Graph);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Graph).call(this, props));\n    _this.addDataPoint = _this.addDataPoint.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDropdown = _this.onDropdown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    var now = Date.now();\n    _this.state = {\n      data: [],\n      jsonData: [1, 2, 3, 4],\n      index: 0\n    };\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var testData = []; //parse jsonData and set this.state.jsonData to the formated version of the jsonData\n\n      var data = jsonData.data;\n      var parsedjsonData = [];\n\n      for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].data.length; j++) {\n          console.log(data[i].data[j]);\n\n          if (parsedjsonData[j] === undefined) {\n            parsedjsonData[j] = [];\n          }\n\n          parsedjsonData[j][i] = data[i].data[j];\n        }\n      }\n\n      console.log(parsedjsonData);\n      this.setState({\n        jsonData: parsedjsonData\n      });\n      var sensorSerial = this.props.match.params.sensorId;\n      var socket = socketIOClient(\"http://localhost:5001/test\");\n      socket.on(\"newnumber\", function (data) {\n        return _this2.addDataPoint(data);\n      });\n    }\n  }, {\n    key: \"addDataPoint\",\n    value: function addDataPoint(data) {\n      if (data.sensorSerial === this.props.match.params.sensorId) {\n        var newData = this.state.data.slice(0); //console.log(data.dateTime)\n\n        newData.push([new Date(data.dateTime.split(' ').join('T')), data.data.sig[0]]);\n        this.setState({\n          data: newData\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"multipleSelect\",\n    value: function multipleSelect() {\n      var items = [];\n\n      for (var i = 0; i <= this.state.jsonData.length; i++) {\n        items.push(React.createElement(\"option\", {\n          key: i,\n          value: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, i));\n      }\n\n      return items;\n    }\n  }, {\n    key: \"onDropdown\",\n    value: function onDropdown(e) {\n      this.setState({\n        index: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"calling render()\");\n      var data = this.state.data[this.state.index];\n\n      if (this.state.value === 'processed') {\n        var data = this.state.jsonData[this.state.index];\n      }\n\n      var plotOptions = {\n        series: {\n          pointStart: new Date(\"2019-04-04T10:55:08.841287Z\")\n        }\n      };\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"graph\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(HighchartsChart, {\n        plotOptions: plotOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Chart, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Sensor Data\"), React.createElement(Legend, {\n        layout: \"vertical\",\n        align: \"right\",\n        verticalAlign: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Legend.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Legend\")), React.createElement(XAxis, {\n        type: \"datetime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(XAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Time\")), React.createElement(YAxis, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(YAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Y-axis\"), React.createElement(LineSeries, {\n        name: \"Channel 1\",\n        data: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SideContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"upSide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Information\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Device:  \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Light Absorbtion\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Status:  \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Connected\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Packets: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"1021/1220\")))), React.createElement(\"div\", {\n        className: \"downSide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Options\"), React.createElement(\"select\", {\n        value: this.state.value,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"live\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Live\"), React.createElement(\"option\", {\n        value: \"processed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Processed\")))), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Channel\"), React.createElement(\"select\", {\n        type: \"select\",\n        onChange: this.onDropdown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.multipleSelect())))))));\n    }\n  }]);\n\n  return Graph;\n}(Component);\n\nexport default withHighcharts(Graph, Highcharts);","map":{"version":3,"sources":["/Users/jacob/Documents/newnewcapstone/new/project/Data Visualization/Program/my-app/src/components/Graph.js"],"names":["React","Component","Highcharts","socketIOClient","HighchartsChart","Chart","withHighcharts","XAxis","YAxis","Title","Legend","LineSeries","jsonData","require","Graph","props","addDataPoint","bind","handleChange","onDropdown","now","Date","state","data","index","testData","parsedjsonData","i","length","j","console","log","undefined","setState","sensorSerial","match","params","sensorId","socket","on","newData","slice","push","dateTime","split","join","sig","event","value","target","items","e","plotOptions","series","pointStart","multipleSelect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport socketIOClient from \"socket.io-client\";\nimport {\n  HighchartsChart, Chart, withHighcharts, XAxis, YAxis, Title, Legend, LineSeries\n} from 'react-jsx-highcharts';\nimport './Graph.css'\n//import jsonData from '../jsonData.json';\n\nvar jsonData = require('../jsonData.json')\n\n\nclass Graph extends Component {\n\n  constructor (props) {\n    super(props);\n    this.addDataPoint = this.addDataPoint.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onDropdown = this.onDropdown.bind(this);\n\n    const now = Date.now();\n    this.state = {\n        data: [],\n        jsonData: [1,2,3,4],\n        index: 0\n    }\n}\n\ncomponentDidMount() {\n\n\n   var testData = []\n\n\n    //parse jsonData and set this.state.jsonData to the formated version of the jsonData\n    var data = jsonData.data;\n\n    var parsedjsonData = []\n    for(var i=0; i < data.length; i++){\n      for(var j=0; j < data[i].data.length; j++){\n        console.log(data[i].data[j])\n\n        if(parsedjsonData[j] === undefined){\n          parsedjsonData[j] = []\n        }\n\n        parsedjsonData[j][i] = data[i].data[j]\n\n      }\n    }\n\n    console.log(parsedjsonData);\n\n    this.setState({\n      jsonData: parsedjsonData\n    })\n\n\n    var sensorSerial = this.props.match.params.sensorId\n\n    const socket = socketIOClient(\"http://localhost:5001/test\");\n    socket.on(\"newnumber\", data => this.addDataPoint(data));\n  }\n\n  addDataPoint(data){\n\n    if(data.sensorSerial === this.props.match.params.sensorId){\n      var newData = this.state.data.slice(0)\n      //console.log(data.dateTime)\n\n      newData.push([new Date(data.dateTime.split(' ').join('T')), data.data.sig[0]])\n\n      this.setState({\n        data: newData\n      })\n\n    }\n  }\n\n  handleChange(event){\n    this.setState({value: event.target.value});\n  }\n\n  multipleSelect(){\n    let items = [];\n    for(var i=0; i <= this.state.jsonData.length;i++){\n      items.push(<option key={i} value={i}>{i}</option>);\n    }\n    return items;\n  }\n\n  onDropdown(e){\n    this.setState({index: e.target.value});\n  }\n\n  render() {\n\n    console.log(\"calling render()\")\n\n    var data = this.state.data[this.state.index]\n\n    if(this.state.value === 'processed'){\n      var data = this.state.jsonData[this.state.index]\n    }\n\n    const plotOptions = {\n      series: {\n        pointStart: new Date(\"2019-04-04T10:55:08.841287Z\")\n      }\n    }\n\n    return (\n\n      <div className=\"container\">\n\n        <div className=\"graph\">\n\n          <HighchartsChart plotOptions={plotOptions}>\n            <Chart />\n\n            <Title>Sensor Data</Title>\n\n            <Legend layout=\"vertical\" align=\"right\" verticalAlign=\"middle\" >\n              <Legend.Title>Legend</Legend.Title>\n            </Legend>\n\n            <XAxis type=\"datetime\">\n              <XAxis.Title>Time</XAxis.Title>\n            </XAxis>\n\n            <YAxis>\n              <YAxis.Title>Y-axis</YAxis.Title>\n              <LineSeries name=\"Channel 1\" data={data}/>\n            </YAxis>\n          </HighchartsChart>\n        </div>\n\n\n    <div className=\"side\">\n      <div className=\"SideContainer\">\n\n          <div className=\"upSide\">\n              <h4>Information</h4>\n                  <ul>\n                      <li>Device:  <b>Light Absorbtion</b></li>\n                      <li>Status:  <b>Connected</b></li>\n                      <li>Packets: <b>1021/1220</b></li>\n                  </ul>\n          </div>\n\n          <div className=\"downSide\">\n              <form>\n                <label>\n                  <h4>Options</h4>\n                    <select value={this.state.value} onChange={this.handleChange}>\n                      <option value=\"live\">Live</option>\n                      <option value=\"processed\">Processed</option>\n                    </select>\n                </label>\n              </form>\n\n              <form>\n                <label>\n                  <h4>Channel</h4>\n                    <select type=\"select\" onChange={this.onDropdown}>\n                      {this.multipleSelect()}\n                    </select>\n                </label>\n              </form>\n\n          </div>\n        </div>\n      </div>\n\n\n      </div>\n    );\n  }\n}\n\nexport default withHighcharts(Graph, Highcharts);\n"]},"metadata":{},"sourceType":"module"}